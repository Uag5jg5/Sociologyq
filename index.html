<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Культурология и общества</title>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@300;400;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg:#ffffff;
      --text:#111827;
      --gold:#b8860b;
      --gold-2:#ffd27a;
      --muted:#4b5563;
      --radius:10px;
      --maxw:1100px;
    }
    *{box-sizing:border-box; margin:0; padding:0;}
    body{font-family:'Libre Franklin', sans-serif; background:var(--bg); color:var(--text);}
    header{position:fixed; top:0; left:0; right:0; background:rgba(255,255,255,0.98); backdrop-filter:blur(6px); border-bottom:1px solid #f0e6d0; z-index:100;}
    .wrap{max-width:var(--maxw); margin:0 auto; padding:14px 18px; display:flex; justify-content:space-between; align-items:center;}
    .brand{display:flex; align-items:center; gap:12px;}
    .logo{width:56px; height:56px; border-radius:8px; background:linear-gradient(180deg,var(--gold),var(--gold-2)); display:flex; justify-content:center; align-items:center; color:#fff; font-weight:700; font-family:'Playfair Display'; font-size:18px;}
    nav ul{display:flex; gap:12px; list-style:none;}
    nav a{text-decoration:none; color:var(--text); padding:8px 12px; border-radius:8px; font-weight:600; transition:0.3s;}
    nav a:hover, nav a.active{background:var(--gold-2); color:#111;}
    .burger{display:none; font-size:24px; background:none; border:none; cursor:pointer;}

    main{max-width:var(--maxw); margin:100px auto 60px; padding:18px;}
    .banner{display:flex; flex-wrap:wrap; align-items:center; gap:20px; padding:28px; border-radius:var(--radius); background:linear-gradient(180deg,#fff,#fff); border:1px solid #f4ead2;}
    .banner h2{font-family:'Playfair Display', serif; font-size:28px; margin-bottom:12px;}
    .banner p{color:var(--muted); line-height:1.5;}
    .banner .meta{margin-top:8px; font-size:14px; font-weight:600; color:var(--text);}
    .banner .img{flex:1 1 300px; border-radius:8px; overflow:hidden;}
    .banner .img img{width:100%; height:100%; object-fit:cover; display:block;}

    .section-content{margin-top:28px;}
    .section-content h2{margin-bottom:12px; font-size:22px;}
    .section-body{border:1px solid #f2e9d6; padding:16px; border-radius:var(--radius); background:#fff;}
    .section-body p{line-height:1.6; color:var(--muted); margin-bottom:12px;}

    .btn{padding:8px 12px; border-radius:8px; background:var(--gold); color:#111; border:none; cursor:pointer; font-weight:600; transition:0.3s;}
    .btn:hover{background:var(--gold-2);}
    .btn.secondary{background:transparent; border:1px solid #f3dec1;}

    footer{border-top:1px solid #f0e6d0; padding:20px 18px; margin-top:40px; background:#fff;}
    .footer-inner{max-width:var(--maxw); margin:0 auto; display:flex; flex-direction:column; gap:6px; color:var(--muted); font-size:14px;}

    /* Admin */
    .modal{position:fixed; inset:0; background:rgba(0,0,0,0.35); display:flex; align-items:center; justify-content:center; z-index:200;}
    .panel{width:90%; max-width:800px; background:#fff; border-radius:8px; padding:18px; border:1px solid #efe3c8;}
    label{display:block; margin-top:10px; font-size:13px; color:var(--muted);}
    input, textarea, select{width:100%; padding:10px; border-radius:8px; border:1px solid #efe3c8; margin-top:6px;}

    @media(max-width:880px){
      nav ul{display:none; flex-direction:column; background:#fff; position:absolute; top:70px; right:18px; padding:12px; border:1px solid #efe3c8; border-radius:8px;}
      .burger{display:block;}
    }
  </style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="brand">
      <div class="logo">КиО</div>
      <div>
        <h1>Культурология и общества</h1>
        <p>Цифровой образовательный ресурс</p>
      </div>
    </div>
    <button class="burger" onclick="toggleMobile()">☰</button>
    <nav>
      <ul id="mainNav">
        <li><a href="#home" class="navlink active">Главная</a></li>
        <li><a href="#lectures" class="navlink">Лекции</a></li>
        <li><a href="#presentations" class="navlink">Презентации</a></li>
        <li><a href="#sculpture" class="navlink">Скульптура</a></li>
        <li><a href="#architecture" class="navlink">Архитектура</a></li>
        <li><a href="#painting" class="navlink">Живопись</a></li>
        <li><a href="#religion" class="navlink">Религия</a></li>
        <li><a href="#life" class="navlink">Быт</a></li>
        <li><a class="btn" href="#" onclick="openAdmin()">Админ</a></li>
      </ul>
    </nav>
  </div>
</header>
<main>
  <section id="home" class="banner">
    <div style="flex:1">
      <h2>Культурология и общества</h2>
      <p>Изучение культурного наследия, искусства, религии и быта общества. Данный ресурс предоставляет учебные материалы, презентации и иллюстрации для углубленного изучения культурологии.</p>
      <div class="meta">Преподаватель: Середа Вера Геннадьевна</div>
      <div style="margin-top:12px;"><button class="btn" onclick="scrollToSection('lectures')">Перейти к лекциям</button></div>
    </div>
    <div class="img"><img src="https://images.unsplash.com/photo-1526948128573-703ee1aeb6fa?q=80&w=1200&auto=format&fit=crop" alt="banner"></div>
  </section>

  <div id="contentArea">
    <!-- Лекции, Презентации и Разделы будут сюда добавляться через JS -->
  </div>
</main>
<footer>
  <div class="footer-inner">
    <div>Цифровой образовательный ресурс Середы Веры Геннадьевны,</div>
    <div>Высший колледж «ASTANA POLYTECHNIC» акимата города Астаны</div>
    <div>© 2023г. Все права защищены.</div>
  </div>
</footer>

<!-- Admin modal -->
<div id="adminModal" class="modal" style="display:none">
  <div class="panel">
    <h3>Админ-панель</h3>
    <div id="authBox">
      <label>Пароль администратора</label>
      <input type="text" id="adminPassInput">
      <button class="btn" onclick="loginAdmin()">Войти</button>
      <button class="btn secondary" onclick="closeAdmin()">Отмена</button>
    </div>
    <div id="adminPanel" style="display:none; margin-top:12px;">
      <label>Действие</label>
      <select id="adminAction">
        <option value="addLecture">Добавить лекцию</option>
        <option value="addPresentation">Добавить презентацию</option>
        <option value="addSectionText">Добавить текст в раздел</option>
        <option value="addImage">Добавить изображение в раздел</option>
      </select>
      <div id="formArea"></div>
      <button class="btn" onclick="submitAdminForm()">Сохранить</button>
      <button class="btn secondary" onclick="logoutAdmin()">Выйти</button>
      <div id="adminList" style="margin-top:12px; max-height:200px; overflow:auto;"></div>
    </div>
  </div>
</div>

<script>
let adminOpen = false;
function toggleMobile(){
  const nav = document.querySelector('nav ul');
  if(nav.style.display==='flex'){nav.style.display='none';}
  else{nav.style.display='flex'; nav.style.flexDirection='column';}
}

const STORAGE_KEY='kult_site_live';
const ADMIN_PASSWORD='Ua33333';

function scrollToSection(id){document.getElementById(id).scrollIntoView({behavior:'smooth'});}

let state = JSON.parse(localStorage.getItem(STORAGE_KEY)||'{}');
if(!state.lectures) state={lectures:[], presentations:[], sections:{sculpture:'',architecture:'',painting:'',religion:'',life:''}, images:[]};
function save(){localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); renderContent();}

function renderContent(){
  const area = document.getElementById('contentArea'); area.innerHTML='';
  // lectures
  const lecturesHTML = '<section id="lectures" class="section-content"><h2>Лекции</h2><div class="section-body">'+state.lectures.map(l=>`<p><strong>${l.title}</strong><br>${l.text}</p>`).join('')+'</div></section>';
  area.innerHTML+=lecturesHTML;
  const presHTML = '<section id="presentations" class="section-content"><h2>Презентации</h2><div class="section-body">'+state.presentations.map(p=>`<p><strong>${p.title}</strong><br>${p.note||''}</p>`).join('')+'</div></section>';
  area.innerHTML+=presHTML;
  ['sculpture','architecture','painting','religion','life'].forEach(sec=>{
    let secHTML=`<section id="${sec}" class="section-content"><h2>${sec.charAt(0).toUpperCase()+sec.slice(1)}</h2><div class="section-body">${state.sections[sec]}</div></section>`;
    area.innerHTML+=secHTML;
  });
}
renderContent();

function openAdmin(){document.getElementById('adminModal').style.display='flex'; checkAdmin();}
function closeAdmin(){document.getElementById('adminModal').style.display='none';}
function checkAdmin(){const ok = localStorage.getItem('admin_logged')==='1';
if(ok){document.getElementById('authBox').style.display='none'; document.getElementById('adminPanel').style.display='block'; buildForm();} else {document.getElementById('authBox').style.display='block'; document.getElementById('adminPanel').style.display='none';}}
function loginAdmin(){const val=document.getElementById('adminPassInput').value; if(val===ADMIN_PASSWORD){localStorage.setItem('admin_logged','1');checkAdmin();} else alert('Неверный пароль');}
function logoutAdmin(){localStorage.removeItem('admin_logged'); checkAdmin();}
function buildForm(){
const action = document.getElementById('adminAction').value;
const area = document.getElementById('formArea'); area.innerHTML='';
if(action==='addLecture'){area.innerHTML=`<label>Название</label><input id='f_title'><label>Текст</label><textarea id='f_text'></textarea>`;}
if(action==='addPresentation'){area.innerHTML=`<label>Название</label><input id='f_title'><label>Описание</label><input id='f_note'>`;}
if(action==='addSectionText'){area.innerHTML=`<label>Раздел</label><select id='f_section'><option value='sculpture'>Скульптура</option><option value='architecture'>Архитектура</option><option value='painting'>Живопись</option><option value='religion'>Религия</option><option value='life'>Быт</option></select><label>Текст</label><textarea id='f_section_text'></textarea>`;}
}
document.getElementById('adminAction').addEventListener('change',buildForm);
async function submitAdminForm(){
const action=document.getElementById('adminAction').value;
if(action==='addLecture'){const t=document.getElementById('f_title').value; const txt=document.getElementById('f_text').value; if(!t||!txt){alert('Заполните все поля'); return;} state.lectures.unshift({title:t,text:txt}); save();}
if(action==='addPresentation'){const t=document.getElementById('f_title').value; const note=document.getElementById('f_note').value; if(!t){alert('Заполните название'); return;} state.presentations.unshift({title:t,note:note}); save();}
if(action==='addSectionText'){const sec=document.getElementById('f_section').value; const txt=document.getElementById('f_section_text').value; state.sections[sec]+='\n\n'+txt; save();}
}
</script>
</body>
</html>
