<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Культурология и общества</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0b0b;
      --card:#0f1113;
      --accent:#d68608; /* gold-orange */
      --accent-2:#ffb84d;
      --muted:#bfc8d3;
      --glass: rgba(255,255,255,0.03);
      --glass-2: rgba(255,255,255,0.02);
      --radius:14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{font-family:Montserrat,system-ui,Arial;background:linear-gradient(180deg,#071019 0%, #071016 60%);color:#eef3f8;margin:0;-webkit-font-smoothing:antialiased}

    /* Header / Nav */
    header{position:sticky;top:0;z-index:60;background:linear-gradient(180deg, rgba(11,11,11,0.6), rgba(11,11,11,0.45));backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,0.03)}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:800;color:#081019;font-size:18px;font-family:Playfair Display}
    .title{line-height:1}
    .title h1{margin:0;font-size:18px;font-weight:700}
    .title p{margin:0;font-size:12px;color:var(--muted)}

    nav ul{display:flex;gap:14px;list-style:none;padding:0;margin:0;align-items:center}
    nav a{color:var(--muted);text-decoration:none;padding:8px 10px;border-radius:8px;font-size:14px}
    nav a:hover{color:white;background:rgba(255,255,255,0.02)}
    .cta{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#071019;padding:8px 12px;border-radius:10px;font-weight:700}

    /* mobile menu */
    .burger{display:none;background:transparent;border:0;color:var(--muted);font-size:22px}
    @media(max-width:880px){nav ul{display:none}.burger{display:block}}

    /* Banner */
    .banner{display:grid;grid-template-columns:1fr;gap:18px;align-items:center;padding:48px 0}
    .hero-card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:28px;border-radius:18px;box-shadow:0 10px 40px rgba(2,6,23,0.6)}
    .banner-inner{display:flex;gap:20px;align-items:center}
    .banner-text h2{font-family:Playfair Display, serif;margin:0;font-size:34px}
    .banner-text p{color:var(--muted);margin-top:12px;font-size:15px}
    .banner-visual{min-height:180px;border-radius:12px;overflow:hidden;flex:0 0 420px;box-shadow:inset 0 -30px 80px rgba(0,0,0,0.5)}
    .banner-visual img{width:100%;height:100%;object-fit:cover;display:block}

    /* Sections */
    main{max-width:1100px;margin:0 auto;padding:6px 16px 80px}
    .sections{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:18px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:16px;border-radius:12px}
    .card h3{margin:0 0 8px 0}
    .meta{font-size:13px;color:var(--muted)}
    .thumb{height:160px;border-radius:10px;background:linear-gradient(135deg,var(--accent-2),var(--accent));display:flex;align-items:end;justify-content:flex-start;padding:14px;color:#081019;font-weight:800}

    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .grid .card{padding:14px}

    .controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
    .pill{padding:8px 10px;border-radius:10px;background:var(--glass);font-size:13px;color:var(--muted)}

    /* footer */
    footer{color:var(--muted);text-align:center;padding:30px 0}

    /* admin modal */
    .modal{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;z-index:80}
    .modal .panel{width:920px;background:linear-gradient(180deg,#071018,#07101a);padding:20px;border-radius:12px}
    label{display:block;margin-top:10px;font-size:13px;color:var(--muted)}
    input[type=text], textarea, select{width:100%;padding:10px;border-radius:8px;border:0;background:var(--glass);color:inherit}
    textarea{min-height:120px}

    /* responsive */
    @media(max-width:1100px){.grid{grid-template-columns:repeat(2,1fr)}.sections{grid-template-columns:repeat(2,1fr)}.banner-visual{flex:0 0 300px}}
    @media(max-width:700px){.grid{grid-template-columns:1fr}.sections{grid-template-columns:1fr}.banner-inner{flex-direction:column}.banner-visual{width:100%;min-height:220px}.logo{width:48px;height:48px}}

    /* subtle animations */
    .fade-up{opacity:0;transform:translateY(8px);animation:fadeUp .7s forwards}
    @keyframes fadeUp{to{opacity:1;transform:none}}

    /* search */
    .searchbar{display:flex;gap:12px;margin-top:12px}
    .searchbar input{flex:1;padding:12px;border-radius:12px;border:0;background:var(--glass);color:inherit}

  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="nav">
        <div class="brand">
          <div class="logo">КиО</div>
          <div class="title">
            <h1>Культурология и общества</h1>
            <p>Мир искусства, традиций и смыслов</p>
          </div>
        </div>

        <div style="display:flex;align-items:center;gap:12px">
          <button class="burger" aria-label="menu" onclick="toggleMobile()">☰</button>
          <nav>
            <ul id="mainNav">
              <li><a href="#home" data-target="home">Главная</a></li>
              <li><a href="#lectures" data-target="lectures">Лекции</a></li>
              <li><a href="#presentations" data-target="presentations">Презентации</a></li>
              <li><a href="#gallery" data-target="gallery">Галерея</a></li>
              <li><a href="#about" data-target="about">О проекте</a></li>
              <li><a class="cta" href="#" onclick="openAdmin()">Админ</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </header>

  <section id="home" class="wrap banner">
    <div class="hero-card fade-up">
      <div class="banner-inner">
        <div class="banner-text">
          <h2>Культурология и общества</h2>
          <p>Платформа для изучения скульптуры, архитектуры, живописи, религии и бытовых практик. Сохраняй лекции, загружай презентации и создавай красочные подборки для студентов.</p>
          <div class="searchbar" style="margin-top:18px">
            <input id="searchInput" placeholder="Поиск по материалам..." oninput="renderAll()">
            <select id="filterCategory" onchange="renderAll()">
              <option value="all">Все темы</option>
              <option value="Скульптура">Скульптура</option>
              <option value="Архитектура">Архитектура</option>
              <option value="Живопись">Живопись</option>
              <option value="Религия">Религия</option>
              <option value="Быт">Быт</option>
              <option value="Другие">Другие</option>
            </select>
          </div>
          <div style="margin-top:18px">
            <a class="cta" href="#lectures" onclick="scrollToSection('lectures')">Перейти к лекциям</a>
          </div>
        </div>
        <div class="banner-visual">
          <img src="https://images.unsplash.com/photo-1504198453319-5ce911bafcde?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=7f1db2b45b0b7fd3a9e6d6d2b2c3b4a3" alt="art collage">
        </div>
      </div>
    </div>

    <div style="display:flex;gap:12px;margin-top:14px;flex-wrap:wrap">
      <div class="card" style="flex:1;min-width:220px">
        <h3>Темы</h3>
        <div class="meta">Скульптура, Архитектура, Живопись, Религия, Быт — всё в одном месте.</div>
      </div>
      <div class="card" style="min-width:220px">
        <h3>Форматы</h3>
        <div class="meta">PDF, PPTX (скачивается), изображения, ссылки на видео.</div>
      </div>
      <div class="card" style="min-width:220px">
        <h3>Доступ</h3>
        <div class="meta">Панель администратора — локально в браузере (localStorage).</div>
      </div>
    </div>
  </section>

  <main>
    <section id="lectures">
      <h2 style="margin-bottom:10px">Лекции</h2>
      <div id="lecturesGrid" class="grid"></div>
    </section>

    <section id="presentations" style="margin-top:26px">
      <h2 style="margin-bottom:10px">Презентации</h2>
      <div id="pptGrid" class="grid"></div>
    </section>

    <section id="gallery" style="margin-top:26px">
      <h2 style="margin-bottom:10px">Галерея — скульптура, архитектура, живопись</h2>
      <div id="galleryGrid" class="grid"></div>
    </section>

    <section id="about" style="margin-top:26px">
      <h2 style="margin-bottom:10px">О проекте</h2>
      <div class="card">Проект создан как учебная цифровая платформа для студентов и преподавателей культурологии. Здесь можно собирать материалы по темам, делиться презентациями и иллюстрациями культуры.</div>
    </section>
  </main>

  <footer>
    <div>© <span id="year"></span> Культурология и общества — создано для учёбы</div>
  </footer>

  <!-- Admin modal -->
  <div id="adminModal" class="modal" style="display:none">
    <div class="panel">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div style="font-weight:700">Панель администратора</div>
        <div style="font-size:13px;color:var(--muted)">Локальный админ (пароль хранится в браузере)</div>
      </div>

      <div id="authBox" style="margin-top:12px">
        <label>Пароль администратора</label>
        <input type="text" id="adminPassInput" placeholder="Введите пароль">
        <div style="display:flex;gap:8px;margin-top:10px">
          <button class="cta" onclick="loginAdmin()">Войти</button>
          <button class="pill" onclick="closeAdmin()">Отмена</button>
        </div>
      </div>

      <div id="adminPanel" style="display:none;margin-top:12px">
        <label>Тип материала</label>
        <select id="materialType">
          <option value="lecture">Лекция (текст/видео)</option>
          <option value="presentation">Презентация (PDF/PPTX)</option>
          <option value="gallery">Галерея (изображение)</option>
        </select>

        <label>Название</label>
        <input type="text" id="matTitle" placeholder="Например: Введение в культурологию">

        <label>Тема (категория)</label>
        <select id="matCategory">
          <option>Скульптура</option>
          <option>Архитектура</option>
          <option>Живопись</option>
          <option>Религия</option>
          <option>Быт</option>
          <option>Другие</option>
        </select>

        <label>Краткое описание</label>
        <textarea id="matDesc" placeholder="Краткое описание для карточки..."></textarea>

        <label>Теги (через запятую)</label>
        <input type="text" id="matTags" placeholder="например: теория, ренессанс">

        <label>Файл / ссылка / изображение</label>
        <input type="file" id="matFile">
        <input type="text" id="matLink" placeholder="Ссылка на видео (YouTube) — опционально">

        <div style="display:flex;gap:8px;margin-top:12px">
          <button class="cta" onclick="saveMaterial()">Сохранить</button>
          <button class="pill" onclick="logoutAdmin()">Выйти</button>
        </div>

        <hr style="margin-top:10px;border-color:rgba(255,255,255,0.04)">
        <div style="font-size:13px;color:var(--muted);">Список материалов (админ)</div>
        <div id="adminList" style="margin-top:8px;max-height:220px;overflow:auto"></div>
      </div>

    </div>
  </div>

  <script>
    const STORAGE_KEY = 'kultmaterials_v2';
    const ADMIN_PASS_KEY = 'kult_admin_pass_v2';
    const FIXED_ADMIN_PASSWORD = 'Ua33333'; // установленный пароль, не показываем пользователю в интерфейсе

    document.getElementById('year').textContent = new Date().getFullYear();

    function loadData(){ try{ return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'); }catch(e){ return [] } }
    function saveData(data){ localStorage.setItem(STORAGE_KEY, JSON.stringify(data)); }

    // Seed content (only if empty)
    if(!localStorage.getItem(STORAGE_KEY)){
      const seed = [
        {id:1,type:'lecture',title:'Введение в культурологию',category:'Другие',desc:'Краткий обзор предмета и ключевых тем: скульптура, архитектура, живопись, религия и быт.',tags:['введение','теория'],date:Date.now(),thumbnail:'https://images.unsplash.com/photo-1549880338-65ddcdfd017b?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=abc'},
        {id:2,type:'presentation',title:'Ренессанс: живопись и идеи',category:'Живопись',desc:'Презентация о ключевых художниках и произведениях ренессанса.',tags:['ренессанс'],date:Date.now(),thumbnail:'https://images.unsplash.com/photo-1529101091764-c3526daf38fe?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=def'},
        {id:3,type:'gallery',title:'Скульптуры древности',category:'Скульптура',desc:'Подборка фотографий скульптур.',tags:['скульптура'],date:Date.now(),fileData:'https://images.unsplash.com/photo-1526318472351-c75fcf070263?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&s=ghi'}
      ];
      saveData(seed);
    }

    function renderAll(){
      const data = loadData();
      const search = document.getElementById('searchInput')?.value.trim().toLowerCase() || '';
      const cat = document.getElementById('filterCategory')?.value || 'all';

      const lectures = data.filter(d=>d.type==='lecture' && matchFilter(d, search, cat));
      const ppts = data.filter(d=>d.type==='presentation' && matchFilter(d, search, cat));
      const gallery = data.filter(d=>d.type==='gallery' && matchFilter(d, search, cat));

      document.getElementById('lecturesGrid').innerHTML = renderItems(lectures);
      document.getElementById('pptGrid').innerHTML = renderItems(ppts);
      document.getElementById('galleryGrid').innerHTML = renderItems(gallery);

      renderAdminList();
    }

    function matchFilter(item, search, cat){
      if(cat!=='all' && item.category!==cat) return false;
      if(!search) return true;
      const hay = (item.title + ' ' + (item.desc||'') + ' ' + (item.tags||[]).join(' ')).toLowerCase();
      return hay.includes(search);
    }

    function renderItems(items){
      if(items.length===0) return '<div style="padding:24px;color:var(--muted);background:var(--glass);border-radius:12px">Пока пусто — добавьте материалы через Админ.</div>';
      return items.map(it=>{
        const thumb = it.thumbnail || (it.fileData && it.fileData.startsWith('data:')?it.fileData:it.fileData || '');
        return `
          <div class="card">
            <div class="thumb" style="background-image:url('${thumb}');background-size:cover;background-position:center">
              <div style="background:linear-gradient(180deg,rgba(0,0,0,0.0),rgba(0,0,0,0.4));padding:12px;border-radius:10px;color:#fff">${it.title}</div>
            </div>
            <h3>${it.title}</h3>
            <div class="meta">${it.category} • ${new Date(it.date).toLocaleDateString()}</div>
            <p style="color:var(--muted);margin-top:10px">${it.desc || ''}</p>
            <div class="controls">
              ${it.type==='lecture'?`<button class='pill' onclick='openLectureModal(${it.id})'>Открыть</button>`:''}
              ${it.type==='presentation' && it.fileData?`<button class='pill' onclick='downloadFile(${it.id})'>Скачать</button><button class='pill' onclick='openFilePreview(${it.id})'>Предпросмотр</button>`:(it.type==='presentation' && it.link?`<a class='pill' href='${it.link}' target='_blank'>Открыть ссылку</a>`:'')}
              ${it.type==='gallery'?`<button class='pill' onclick='openImageModal(${it.id})'>Посмотреть</button>`:''}
            </div>
          </div>
        `;
      }).join('');
    }

    // Admin
    function openAdmin(){ document.getElementById('adminModal').style.display='flex'; checkAuth(); }
    function closeAdmin(){ document.getElementById('adminModal').style.display='none'; }
    function checkAuth(){ const pass = localStorage.getItem(ADMIN_PASS_KEY); if(pass==='ok'){ document.getElementById('authBox').style.display='none'; document.getElementById('adminPanel').style.display='block'; } else { document.getElementById('authBox').style.display='block'; document.getElementById('adminPanel').style.display='none'; } }

    function loginAdmin(){ const v = document.getElementById('adminPassInput').value.trim(); if(v===FIXED_ADMIN_PASSWORD){ localStorage.setItem(ADMIN_PASS_KEY,'ok'); checkAuth(); } else { alert('Неверный пароль'); } }
    function logoutAdmin(){ localStorage.removeItem(ADMIN_PASS_KEY); checkAuth(); }

    function saveMaterial(){
      const type = document.getElementById('materialType').value;
      const title = document.getElementById('matTitle').value.trim(); if(!title){ alert('Укажите название'); return }
      const category = document.getElementById('matCategory').value;
      const desc = document.getElementById('matDesc').value.trim();
      const tags = document.getElementById('matTags').value.split(',').map(s=>s.trim()).filter(Boolean);
      const fileInput = document.getElementById('matFile');
      const link = document.getElementById('matLink').value.trim();

      const data = loadData();
      const id = Date.now();
      const item = {id,type,title,category,desc,tags,date:Date.now()};

      if(fileInput.files && fileInput.files[0]){
        const f = fileInput.files[0];
        const reader = new FileReader();
        reader.onload = function(e){
          const base = e.target.result;
          item.fileData = base;
          item.filename = f.name;
          item.mime = f.type;
          if(f.type.startsWith('image/')){ item.thumbnail = base; item.type='gallery'; }
          data.push(item); saveData(data); renderAll(); alert('Материал сохранён');
        }
        reader.readAsDataURL(f);
      } else {
        if(link) item.link = link;
        data.push(item); saveData(data); renderAll(); alert('Материал сохранён (без файла)');
      }

      document.getElementById('matTitle').value=''; document.getElementById('matDesc').value=''; document.getElementById('matTags').value=''; document.getElementById('matFile').value=''; document.getElementById('matLink').value='';
    }

    function renderAdminList(){
      const el = document.getElementById('adminList'); el.innerHTML='';
      const data = loadData().slice().sort((a,b)=>b.date-a.date);
      for(const it of data){
        const div = document.createElement('div'); div.style.padding='8px'; div.style.borderBottom='1px solid rgba(255,255,255,0.02)';
        div.innerHTML = `<div style=\"display:flex;justify-content:space-between;align-items:center\"><div><strong>${it.title}</strong><div class='meta'>${it.type} • ${it.category}</div></div></div>`;
        const btnDel = document.createElement('button'); btnDel.className='pill'; btnDel.textContent='Удалить'; btnDel.onclick=(()=>{ if(confirm('Удалить материал?')){ deleteMaterial(it.id); } });
        div.appendChild(btnDel);
        el.appendChild(div);
      }
    }
    function deleteMaterial(id){ const d = loadData().filter(x=>x.id!==id); saveData(d); renderAll(); }

    // View & download
    function openLectureModal(id){ const item = loadData().find(x=>x.id===id); if(!item) return; const w = window.open('','_blank','noopener'); w.document.write(`<html><head><meta charset=\"utf-8\"/><title>${item.title}</title></head><body style=\"font-family:Montserrat,Arial;padding:20px;background:#071018;color:#eef3f8\"><h2>${item.title}</h2><div style=\"color:${'#bfc8d3'}\">${item.category}</div><p>${item.desc||''}</p>`);
      if(item.link){ const vid = parseYouTubeID(item.link); if(vid) w.document.write(`<iframe width=\"900\" height=\"506\" src=\"https://www.youtube.com/embed/${vid}\" frameborder=\"0\" allowfullscreen></iframe>`); else w.document.write(`<a href=\"${item.link}\" target=\"_blank\">Открыть ссылку</a>`); }
      if(item.fileData){ if(item.mime==='application/pdf') w.document.write(`<iframe src=\"${item.fileData}\" width=\"900\" height=\"600\"></iframe>`); else w.document.write(`<a href=\"${item.fileData}\" download=\"${item.filename}\">Скачать файл</a>`); }
      w.document.write('</body></html>'); }

    function parseYouTubeID(url){ try{ const u=new URL(url); if(u.hostname.includes('youtube.com')) return u.searchParams.get('v'); if(u.hostname.includes('youtu.be')) return u.pathname.slice(1); }catch(e){return null} }
    function downloadFile(id){ const it = loadData().find(x=>x.id===id); if(!it) return; const a=document.createElement('a'); a.href = it.fileData; a.download = it.filename || 'file'; document.body.appendChild(a); a.click(); a.remove(); }
    function openFilePreview(id){ const it = loadData().find(x=>x.id===id); if(!it) return; window.open(it.fileData,'_blank'); }
    function openImageModal(id){ const it = loadData().find(x=>x.id===id); if(!it) return; const w = window.open('','_blank'); w.document.write(`<html><head><meta charset=\"utf-8\"></head><body style=\"margin:0;display:flex;align-items:center;justify-content:center;background:#071024\"><img src='${it.fileData || it.thumbnail}' style='max-width:100vw;max-height:100vh'></body></html>`); }

    // Navigation
    document.querySelectorAll('nav a[data-target]').forEach(a=>{ a.addEventListener('click', (e)=>{ e.preventDefault(); const t = a.getAttribute('data-target'); scrollToSection(t); if(window.innerWidth<=880) toggleMobile(); }); });
    function scrollToSection(id){ document.getElementById(id).scrollIntoView({behavior:'smooth',block:'start'}); }

    // Mobile nav toggle
    function toggleMobile(){ const nav = document.getElementById('mainNav'); if(nav.style.display==='flex'){ nav.style.display='none'; } else { nav.style.display='flex'; nav.style.flexDirection='column'; nav.style.background='linear-gradient(180deg,rgba(11,11,11,0.95),rgba(7,10,16,0.95))'; nav.style.position='absolute'; nav.style.right='16px'; nav.style.top='64px'; nav.style.padding='12px'; nav.style.borderRadius='8px'; } }

    // init
    renderAll(); window.openAdmin = openAdmin; window.closeAdmin = closeAdmin; window.loginAdmin = loginAdmin; window.logoutAdmin = logoutAdmin; window.saveMaterial = saveMaterial; window.renderAll = renderAll; window.openLectureModal = openLectureModal;

    // keyboard shortcut to open admin: Ctrl+Alt+A
    window.addEventListener('keydown', e=>{ if(e.ctrlKey && e.altKey && e.key.toLowerCase()==='a') openAdmin(); });
  </script>
</body>
</html>
